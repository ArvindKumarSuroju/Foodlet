<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="app.webmanifest">

    <link rel="stylesheet" href="css/homepage.css">
    <link rel="stylesheet" href="css/filter.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/partner-login-signup.css">


    <script src="https://www.gstatic.com/firebasejs/9.6.6/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.6/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.6/firebase-auth-compat.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script async src='https://maps.googleapis.com/maps/api/js?key=AIzaSyC4byKhswn0HQGQ4OKH9syarm00rqdm2WQ'>
    </script>


    <script src="./js/shared.js">
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-storage.js"></script>



    <!-- <script type="module"> import { getStorage, ref as sRef, uploadBytesResumable, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.1.3/firebase-storage.js"</script> -->

    <script>
        const firebaseApp = firebase.initializeApp({
            apiKey: "AIzaSyDhugHzhI0K6ms3vC0o012N9w_BGFjuZfw",
            authDomain: "foodlet-b141c.firebaseapp.com",
            databaseURL: "https://foodlet-b141c-default-rtdb.firebaseio.com",
            projectId: "foodlet-b141c",
            storageBucket: "foodlet-b141c.appspot.com",
            messagingSenderId: "451799892208",
            appId: "1:451799892208:web:b8c42a5a4ad80aa24bc235"
        });
        const auth = firebaseApp.auth();
        const db = firebase.firestore();
        var storage = firebase.storage();

        db.settings({
            timestampsInSnapshots: true
        });
    </script>

    <script>
        if ('serviceWorker' in navigator) { //if browser supports Service worker
            // register the service worker in sw.js
            navigator.serviceWorker.register('./sw.js')
                .then(function(reg) {
                    console.log(`Service Worker Registered`);
                })
                .catch(function(error) {
                    console.log(`Service Worker Error (${error})`);
                });
        } else {
            console.error("This browser doesn't support Service Worker");
        }
    </script>
    <link rel="stylesheet" href="css/main.css">

    <script>
        async function getSignedInUser() {
            if (!auth.currentUser) {
                await getAuthenticatedUser();
                return auth.currentUser;
            } else {
                return auth.currentUser;
            }
        }
        async function getAuthenticatedUser() {
            return new Promise((resolve, reject) => {
                auth.onAuthStateChanged(user => {
                    resolve(user);
                })
            })
        }
    </script>

    <!-- <script src="js/main.js" defer></script> -->


    <title>Foodlet</title>
</head>

<body>



    </div>
    <div id="mainArea">
        <!-- the main part will be dynamically updated as each page loads -->
    </div>
    <script src="routing.js"></script>
    <script src="script.js"></script>
</body>

</html>